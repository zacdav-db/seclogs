seed = 42

[traffic]
mode = "realistic"
events_per_second = 50000.0

[traffic.curve]
type = "weekday_peak"
weekday_multiplier = 1.0
weekend_multiplier = 0.6
peak_hours_local = [9, 10, 11, 12, 13, 14, 15, 16]
peak_multiplier = 1.4

[[traffic.timezone_distribution]]
name = "America/Los_Angeles"
weight = 0.63

[[traffic.timezone_distribution]]
name = "Europe/London"
weight = 0.35

[[traffic.timezone_distribution]]
name = "Asia/Singapore"
weight = 0.02

[output]
dir = "./out"

[output.rotation]
target_size_mb = 50
flush_interval_ms = 1000
max_age_seconds = 20

[output.format]
type = "parquet"
compression = "zstd"

[source]
type = "cloudtrail"
curated = true
actor_count = 800
service_ratio = 0.25
hot_actor_ratio = 0.12
hot_actor_share = 0.6
account_count = 1
regions = ["us-east-1", "us-west-2", "eu-west-1", "ap-southeast-1"]
# actor_population_path = "./actor_population.parquet"

[[source.error_rates]]
name = "ConsoleLogin"
rate = 0.06
code = "SigninFailure"
message = "Failed authentication"

[[source.error_rates]]
name = "PutObject"
rate = 0.03
code = "AccessDenied"
message = "Access denied"

[[source.role_distribution]]
name = "admin"
weight = 0.15

[[source.role_distribution]]
name = "developer"
weight = 0.55

[[source.role_distribution]]
name = "readonly"
weight = 0.25

[[source.role_distribution]]
name = "auditor"
weight = 0.05

[[source.custom_events]]
name = "ConsoleLogin"
weight = 1.0

[[source.custom_events]]
name = "AssumeRole"
weight = 0.8

[[source.region_distribution]]
name = "us-east-1"
weight = 0.65

[[source.region_distribution]]
name = "us-west-2"
weight = 0.15

[[source.region_distribution]]
name = "eu-west-1"
weight = 0.15

[[source.region_distribution]]
name = "ap-southeast-1"
weight = 0.05
